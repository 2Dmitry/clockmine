**Установка и настройка**
- git clone
- переименовываем файл "example.env" в ".env"
- регистрируемся в redmine
- заходим в настройки аккаунта redmine, находим и копируем API-key, данное значение присваиваем переменной REDMINE_API_KEY в ".env" файле
- регистрируемся в clockify
- заходим в настройки аккаунта clockify, находим и копируем API-key, данное значение присваиваем переменной CLOCKIFY_API_KEY в ".env" файле
- если ваша таймзона не "Europe/Moscow", то в ".env" файле меняем значение переменной TIMEZONE на таймзону из списка разрешенных таймзон, перечисленных в файле "timezones.py"
- собираемся командой: "docker compose build" (если настроены алиасы, то командой "dc build")
- запускаемся командой: "docker compose up -d" (если настроены алиасы, то командой "dc up -d")
- (рекомендую) при первом запуске выполнить команду: "docker-compose exec app ./manage.py init" (если настроены алиасы, то командой "dc exec app ./manage.py init"),
которая копирует "Деятельность" из редмайна, кроме той деятельности, которая перечислена в списке REDMINE_ACTIVITIES_NOT_ALLOWED в ".env" файле
- (по желению) перейдите в Настройки (https://app.clockify.me/workspaces/) во вкладку "Разрешения" и уберите галочку у поля "Активировать оплачиваемые часы"
- (рекомендую) переходим на страницу "Скачать приложения" (https://clockify.me/apps) и выбираем нужный вариант (я рекомендую использовать расширение для браузера), устанавливаем
- (если выполнили предыдущий пункт) авторизуемся в расширении clockify для браузера и выводим его [расширение] на панель быстрого доступа для удобства
- (рекомендую) заходим в найстроки расширения clockify для браузера и оставляем включенными только одну опцию: "Показывать всплывающее окно".
Что знавчит опция "Включить контекстное меню" я так и не понял
Подробнее наверное можно было бы прочитать тут: https://clockify.me/help/ вот только дока говно даже если использовать англ.язык
- заходим в настройки расширения clockify для браузера и находим там "Интеграции", (по желанию отключаем все интеграции),
затем в поле Кастомных доменов добавляем ссылку "https://redmine.sbps.ru" (ВНИМАНИЕ! Проверьте, что на конце урла нет слеша) и в выпадающем списке выбираем "Redmine" и нажимаем "ADD"
данное действие позволит расширению рисовать кнопку "Запустить таймер" в каждой задаче Редмайна
- (по желению) можете указать любую ссылку, которая будет выводится в консоль сразу после того как вы успешно выполните команду push
ну типа чтоб затрекал и сразу проверить, что всё корректно

**Варианты команд**
docker-compose exec app ./manage.py init
docker-compose exec app ./manage.py report
docker-compose exec app ./manage.py report --coeff 1.073
docker-compose exec app ./manage.py report --target 5.50
docker-compose exec app ./manage.py push
docker-compose exec app ./manage.py push --coeff 1.073
docker-compose exec app ./manage.py push --target 5.50
*написанное вами число пройдет валидацию только если будет больше нуля, что эти числа делают можно догадаться из названия

**Нюансы**
- Если вы готовы перенести ваше время из Clockify в Redmine, то можете сразу выполнять команду:
docker-compose exec app ./manage.py push
- Ты трекаешь время, и я трекаю время, но есть нюанс.
- Для успешного выполнения команды из п.1 нужно, чтобы каждая запись была успешно распаршена данным приложением (смотрите столбец "Можно затрекать"),
если хотя бы одна записать будет иметь значение "False", то приложение не перенесет время в Redmine.
- Для того, чтобы успешно распарсить запись о времени работы, нужно чтобы в поле Описание был символ "#" и затем несколько чисел, соответствующих номеру задачи
Правильное описание: "Таска #1234 СРМ", "Помогал по #99999", "#9999", "24440"
Неправильное описание: "Таска#1234СРМ", "Помогал по#99999", "#", "буквы24440"
За этим можно не следить, если вы используете кнопку "Запустить таймер" или вводите только лишь номер задачи руками
У вас обязательно должен быть доступ к задаче, в которую вы хотите затрекать время
- Если вы не выбрали никакой тег (активность), то этому времени будет автоматически присвоена активность "Разработка"
- Время будет затрекано в тот день, в который был сделан старт
есть если вы работали в пятницу и забыли затрекать, то запустите команду "push" в понедельник и время будет затрекано "задним числом"
если вы начали трекать время в 23:30 вторника, а закончили в 1:00 среды, то время будет затрекано во вторник
- Информация о затреканном времени удаляется из Clockify сразу после того, как была успешно перенесена в Redmine

**Типовое применение**
1.1. Открыли задачу в Redmine, нажали кнопку "старт таймер"
1.2. Открыли расширение для браузера, ввели номер задачу вручную, запустили таймер
2. Выбрали тег (не обязательно)
3. *работаем* (не обязательно)
4.1. Останавливаем таймер вручную
4.2. Запускаем таймер в другой задаче без остановки текущего таймера (текущий таймер остановится автоматически)
4.3. Запускаем либо команду report, либо команду push (текущий таймер остановится автоматически)


*Команды для разработки:*
python -m venv venv
pip install --upgrade pip
*activate venv*
pip install -r requirements.txt